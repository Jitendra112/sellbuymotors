<%- include ../sellbuylayouts/header.ejs %>
<section>
    <div class="background-image-maker gradient gradient-lr"></div>
    <div class="holder-image">
        <img src="images/bg2.jpg" alt="" class="img-fluid d-none" />
    </div>
    <div class="black-overlay overlay-full"></div>
    <div class="container">
        <div class="row">
            <div class="col-12 col-sm-12 justify-content-center text-center">
                <h1 class="text-white c-font-weight-700">Add Car</h1>
            </div>
        </div>
    </div>
</section>
<!-- End Page Inner-->

<!-- Breadcrumb -->
<section class="py-0 h-0">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-10 col-sm-5 col-lg-3 text-center">
                <ol class="breadcrumb justify-content-center mb-0 c-bg-primary text-white py-3 position-relative">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Add Car</li>
                </ol>
            </div>
        </div>
    </div>
</section>
<!-- End Breadcrumb -->

<!-- Sell Car -->

<!-- End Sell Car -->

<!-- Post Ad -->
<section class="pt-0">
    <div class="container loginseller">
        <div class="row">
            <div class="col-12 col-sm-7">
                <h3>Post Your Ad</h3>
                <p>Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi.</p>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-sm-12">
                <div class="card c-brd-light condition">
                    <div class="card-body">
                         <form id="my_post" action="/save_post" method="post">
                        <div class="row">
                             
                               <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Type</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="car_type">
                                        <option value="New" selected="selected">New</option>
                                         <option value="Used">Used</option>
                                        
                                       
                                       
                                    </select>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4">
                               
                                <label class="c-dark">Make Year</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="make_year" id="make_year">
                                       <option value="" selected="selected">(Any)</option>
                                         <% var d = new Date();
                                          for (var i=1950;i<=d.getFullYear();i++) { %>
                                          <option value="<%= i %>"><%= i %></option>
                                          <%}%>
                                    </select>
                                </div>
                            </div>  
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Mileage</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="mileage">
                                     <option value="" selected="selected">(Any)</option>

                                        <option value="0">Up to 0 miles</option>

                                        <option value="100">Up to 100 miles </option>

                                        <option value="500">Up to 500 miles</option>

                                        <option value="5000">Up to 5,000 miles </option>

                                        <option value="10000">Up to 10,000 miles</option>

                                        <option value="15000">Up to 15,000 miles</option>

                                        <option value="20000">Up to 20,000 miles</option>
                
                                       <option value="25000">Up to 25,000 miles </option>
                
                                        <option value="30000">Up to 30,000 miles </option>
                
                                        <option value="35000">Up to 35,000 miles</option>
                
                                       <option value="40000">Up to 40,000 miles</option>
                
                                       <option value="45000">Up to 45,000 miles</option>
                
                                       <option value="50000">Up to 50,000 miles </option>
                
                                       <option value="60000">Up to 60,000 miles </option>
                
                                       <option value="70000">Up to 70,000 miles</option>
                
                                       <option value="80000">Up to 80,000 miles</option>
                
                                       <option value="90000">Up to 90,000 miles</option>
                
                                       <option value="100000">Up to 100,000 miles</option>
                
                                       <option value="125000">Up to 125,000 miles</option>
                
                                       <option value="150000">Up to 150,000 miles</option>
                
                                       <option value="200000">Up to 200,000 miles</option>
                 
                                    </select>
                                </div>
                            </div>  
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Make</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="make" id="formmake">
                                         <option value="" selected="selected">(Any)</option>
                                      
                                    </select>
                                </div>
                            </div>  
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Model</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="model" id="formmodel">
                                         <option value="" selected="selected">(Any)</option></select>
                                       
                                    </select>
                                </div>
                            </div>  
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Variant</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="varient" id="model_variant">

                                      <option value="" selected="selected">(Any)</option>
<!-- 
                                        <option value="Hatchback">Hatchback</option>

                                        <option value="SUV">SUV</option>

                                        <option value="Minivan">Minivan</option>

                                        <option value="Pickup">Pickup</option>

                                        <option value="Coupe Car">Coupe Car</option>

                                        <option value="Convertible">Convertible</option> -->
                                    </select>
                                </div>
                            </div>  
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Colour</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="color" id="colour">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="Beige">Beige</option>

                                        <option value="Black">Black</option>

                                        <option value="Bronze">Bronze</option>

                                        <option value="Brown">Brown</option>

                                        <option value="Burgundy">Burgundy</option>

                                        <option value="Blue">Blue</option>

                                        <option value="Gold">Gold</option>

                                        <option value="Gray">Gray</option>

                                        <option value="Green">Green</option>

                                        <option value="Indigo">Indigo</option>

                                        <option value="Magenta">Magenta</option>

                                        <option value="Maroon">Maroon</option>  

                                        <option value="Multicolour">Multicolour</option>

                                        <option value="Navy">Navy</option>

                                        <option value="Orange">Orange</option>

                                        <option value="Pink">Pink</option>

                                        <option value="Purple">Purple</option>

                                        <option value="Red">Red</option>

                                        <option value="Silver">Silver</option>

                                        <option value="Turquoise">Turquoise</option>

                                        <option value="Unlisted">Unlisted</option>

                                        <option value="Violet">Violet</option>

                                        <option value="White">White</option>

                                        <option value="Yellow">Yellow</option>
                                        
                                    </select>
                                </div>
                            </div> 
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Body type</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="body_type" id="body_type">

                                       <option value="" selected="selected">(Any)</option>

                                        <option value="Convertible">Convertible</option>

                                        <option value="Coupe">Coupe</option>

                                        <option value="Estate">Estate</option>

                                        <option value="Hatchback">Hatchback</option>

                                        <option value="MPV">MPV</option>

                                        <option value="Pickup">Pickup</option> 

                                        <option value="SUV">SUV</option>

                                        <option value="Saloon">Saloon</option>

                                        <option value="Unlisted">Unlisted</option>
                                    </select>
                                </div>
                            </div>  
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Fuel Type</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="fuel_type" id="fuel_type">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="Bi Fuel">Bi Fuel</option>

                                        <option value="Diesel">Diesel</option>

                                        <option value="Electric">Electric</option>

                                        <option value="Hybrid – Diesel/Electric">Hybrid – Diesel/Electric</option>

                                <option value="Hybrid – Diesel/Electric Plug-in">Hybrid – Diesel/Electric Plug-in</option>

                                        <option value="Hybrid – Petrol/Electric">Hybrid – Petrol/Electric</option>

                                <option value="Hybrid – Petrol/Electric Plug-in">Hybrid – Petrol/Electric Plug-in</option>

                                        <option value="Petrol">Petrol</option>

                                        <option value="Petrol Ethanol">Petrol Ethanol</option>

                                        <option value="Unlisted">Unlisted</option>

                                    </select>
                                </div>
                            </div> 
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Engine size</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="engine_size">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="0">0L </option>
                
                                        <option value="1.0">1.0L</option>
                
                                        <option value="1.2">1.2L</option>
                
                                        <option value="1.4">1.4L </option>
                
                                        <option value="1.6">1.6L </option>

                                        <option value="1.7">1.7L</option>
                
                                        <option value="1.8">1.8L</option>
                
                                        <option value="1.9">1.9L </option>
                
                                        <option value="2.0">2.0L </option>
                
                                        <option value="2.2">2.2L </option>
                
                                        <option value="2.4">2.4L </option>
                
                                        <option value="2.6">2.6L</option>
                
                                        <option value="3.0">3.0L </option>
                
                                        <option value="3.5">3.5L </option>
                
                                        <option value="4.0">4.0L</option>
                
                                        <option value="4.5">4.5L </option>
                
                                        <option value="5.0">5.0L </option>
                
                                        <option value="5.5">5.5L</option>
                
                                        <option value="6.0">6.0L </option>
                
                                        <option value="6.5">6.5L </option>
                
                                        <option value="7.0">7.0L </option>
                
                                    </select>
                                </div>
                            </div>  
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Fuel Consumption</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="fuel_consumption">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="30+ mpg">30+ mpg</option>
                
                                        <option value="40+ mpg">40+ mpg</option>
                
                                        <option value="50+ mp">50+ mp</option>
                
                                        <option value="60+ mpg">60+ mpg</option>
                
                                      
                
                                    </select>
                                </div>
                            </div> 
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Acceleration</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="acceleration">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="0-5s (0-60mph)">0-5s (0-60mph)</option>
                
                                        <option value="0-8s (0-60mph)">0-8s (0-60mph)</option>
                
                                        <option value="8-12s (0-60mph)">8-12s (0-60mph)</option>
                
                                        <option value="12s+ (0-60mph)">12s+ (0-60mph)</option>
                
                                      
                
                                    </select>
                                </div>
                            </div>  
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Gearbox</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="gearbox" id="trans_type">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="Automatic">Automatic</option>
                
                                        <option value="Manual">Manual</option>
                
                                        <option value="Semi-Automatic">Semi-Automatic</option>
                
                                        <option value="Unlisted">Unlisted</option>
                
                                    </select>
                                </div>
                            </div>  
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Drivetrain</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="drivetrain">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="All Wheel Drive">All Wheel Drive</option>
                
                                        <option value="Four Wheel Drive">Four Wheel Drive</option> 
                
                                        <option value="Front Wheel Drive">Front Wheel Drive</option>
                
                                        <option value="Rear Wheel Drive">Rear Wheel Drive</option>
                
                                    </select>
                                </div>
                            </div> 
                              <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">CO<sub>2</sub> Emissions</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="emissions">

                                        <option value="" selected="selected">(Any)</option>

                                        <option value="Up to 75 g / km CO2">Up to 75 g / km CO2</option>
                
                                        <option value="Up to 100 g / km CO2">Up to 100 g / km CO2</option>
                
                                        <option value="Up to 110 g / km CO2">Up to 110 g / km CO2</option>
                
                                        <option value="Up to 120 g / km CO2">Up to 120 g / km CO2</option>

                                        <option value="Up to 130 g / km CO2">Up to 130 g / km CO2</option>
                
                                        <option value="Up to 140 g / km CO2">Up to 140 g / km CO2</option>
                
                                        <option value="Up to 150 g / km CO2">Up to 150 g / km CO2</option>
                
                                        <option value="Up to 165 g / km CO2">Up to 165 g / km CO2</option>

                                        <option value="Up to 175 g / km CO2">Up to 175 g / km CO2</option>
                
                                        <option value="Up to 185 g / km CO2">Up to 185 g / km CO2</option>
                
                                        <option value="Up to 200 g / km CO2">Up to 200 g / km CO2</option>

                                        <option value="Up to 225 g / km CO2">Up to 225 g / km CO2</option>
                
                                        <option value="255 g / km +">255 g / km +</option>
                
                                      
                
                                    </select>
                                </div>
                            </div>
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Doors</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="doors" id="doors">

                                        <option value="" selected="selected">(Any)</option>

                                      
                
                                        <option value="2">2DR</option>
                
                                        <option value="3">3DR</option>
                
                                        <option value="4">4DR</option>

                                        <option value="5">5DR</option>
                
                                        <option value="6">6DR</option>
                
                                       
                                      
                
                                    </select>
                                </div>
                            </div>
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Seats</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="seats" id="seats">

                                        
                                        <option value="" selected="selected">(Any)</option>
                
                                        <option value="1">1</option>
                
                                        <option value="2">2</option>
                
                                        <option value="3">3</option>
                
                                        <option value="4">4</option>
                
                                        <option value="5">5</option>
                
                                        <option value="6">6</option>
                
                                        <option value="7">7</option>
                
                                        <option value="8">8</option>
                
                                        <option value="9">9</option>
                
                                        <option value="10">10</option>
                 
                                        <option value="11">11</option>
                
                                        <option value="12">12</option>
                
                                        <option value="13">13</option>
                
                                        <option value="16">16</option>
                                      
                
                                    </select>
                                </div>
                            </div>
                              <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Insurance Group</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="insurance_group" id="insurance_group">

                                        
                                        <option value="" selected="selected">(Any)</option>
                
                                        <option value="10">Up to 10</option>
                
                                        <option value="20">Up to 20</option>
                
                                        <option value="30">Up to 30</option>
                
                                        <option value="40">Up to 40</option>
                
                
                                    </select>
                                </div>
                            </div>
                             <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Annual tax</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="annual_tax">

                                        
                                        <option value="" selected="selected">(Any)</option>
                
                                        <option value="€0"><span>&#163;</span> 0</option>
                
                                        <option value="Up to &#163;20">Up to <span>&#163;</span> 20</option>
                
                                        <option value="Up to €30">Up to <span>&#163;</span> 30</option>
                
                                        <option value="Up to €110">Up to <span>&#163;</span> 110</option>

                                        <option value="Up to €130">Up to <span>&#163;</span> 130</option>
                
                                        <option value="Up to €145">Up to <span>&#163;</span> 145</option>
                
                                        <option value="Up to €185">Up to <span>&#163;</span> 185</option>

                                        <option value="Up to €210">Up to <span>&#163;</span> 210</option>
                                        
                                        <option value="Up to €230">Up to <span>&#163;</span> 230</option>
                
                                        <option value="Up to €270">Up to <span>&#163;</span> 270</option>
                
                                        <option value="Up to €295">Up to <span>&#163;</span> 295</option>

                                         <option value="Up to €500">Up to <span>&#163;</span> 500</option>

                                          <option value="€500+"><span>&#163;</span> 500+</option>
                
                
                                    </select>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Private & trade</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="private_trade">

                                        
                                        <option value="" selected="selected">(Any)</option>
                
                                        <option value="Private adverts">Private adverts</option>
                
                                        <option value="Trade adverts">Trade adverts</option>

                
                                    </select>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Owner</label>
                                <div class="form-group">
                                    <select class="form-control rounded" name="owner">
                                        <option value="" selected="selected">(Any)</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                    </select>
                                </div>
                            </div> 
                            
                            <div class="col-12 col-sm-6 col-lg-4">
                                <label class="c-dark">Price Expectation</label>
                                <div class="form-group position-relative">
                                    <input type="text" class="form-control rounded pl-4" name="price_expect">
                                      
                                  
                                    <div class="price position-absolute c-dark"><span>&#163;</span></div>
                                </div>
                            </div>
                              <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Car Description</label>
                               
                                     <div class="form-group position-relative">
                                       <textarea name="car_desc" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                                
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">This Car Comes With</label>
                                
                                     <div class="form-group position-relative">
                                       <textarea name="car_comes" rows="2" cols="97" class="mobilesss"></textarea>
                                    
                                </div>
                            </div>

                           <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Economy & performance</label>
                               
                                     <div class="form-group position-relative">
                                       <textarea name="car_eco" rows="2" cols="97" class="mobilesss"></textarea>
                                   
                                </div>
                            </div>
                           <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Driver Convenience</label>
                                
                                     <div class="form-group position-relative">
                                       <textarea name="car_driver" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                                
                            </div>

                            <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Safety</label>
                               
                                     <div class="form-group position-relative">
                                       <textarea name="car_safety" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                                
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Exterior Features</label>
                                
                                      <div class="form-group position-relative">
                                       <textarea name="car_efeatures" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                                
                            </div>
                           <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Interior Features</label>
                                
                                      <div class="form-group position-relative">
                                       <textarea name="car_ifeatures" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                                
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Technical</label>
                              
                                      <div class="form-group position-relative">
                                       <textarea name="car_technical" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                               
                            </div>
                           <div class="col-12 col-sm-6 col-lg-4">
                                 <label class="c-dark">Dimensions</label>
                               
                                      <div class="form-group position-relative">
                                       <textarea name="car_dimensions" rows="2" cols="97" class="mobilesss"></textarea>
                                    </div>
                                
                            </div>
                       
                           
                            <div class="col-12 col-sm-4 col-lg-2 ml-auto mt-3 mt-sm-0">
                                <button type="submit"  class="btn btn-primary btn-md btn-block text-uppercase" >Next</button> 
                            </div>
                        
                        </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
 <%- include ../sellbuylayouts/footer.ejs %>  


 <script>
   var base_url = window.location.origin;
     $(document).on('submit','#my_post',function(e){
        e.preventDefault();
        var formData = new FormData(this);  
        //console.log('here')                
        $.ajax({
        type:'POST',
        url:$(this).attr('action'),
        data:formData,
        cache:false,
        contentType:false,
        processData:false,                      
        success:function(data){
           //   alert(data.message)
           
           var sell = JSON.parse(data.product_id);
           //console.log(sell[0].id);
         if(data.success = 1){
         window.location.href = base_url+  "/addpicture#link?car_id="+ sell[0].id;

      }else{
         location.reload();

       }
    },
 },'json');
 });


 </script>




<script>
    var serviceUrl ;
    var makesArray ;
    function show_make(){
//       var serviceUrl = 'http://localhost:3000/motors-filter-search?make='+$('#formmake').val()+'&model='+$('#formmodel').val()+'&varient='+$('#model_variant').val();
       var serviceUrl = base_url + '/motors-filter-search?postal_code=&make='+$('#formmake').val()+'&model='+$('#formmodel').val()+'&radius=&aggregatedTrim='+$('#model_variant').val()+'&onesearchad=&sort=&price_from=&price_to=&year_from=&year_to=&mileage_from=&mileage_to=&body_type=&fuel_type=&minimum_badge_engine_size=&maximum_badge_engine_size=&fuel_consumption=&zero_to_60=&transmission=&drivetrain=&co2_emissions_cars=&quantity_of_doors=&minimum_seats=&maximum_seats=&insuranceGroup=&annual_tax_cars=&colour=&seller_type=&page=';
       $.get(serviceUrl,function(res){
        makesArray = res.data.MakeModels;
            $.each(makesArray,function(key , value){
                $('#formmake').append('<option value="'+value.Id.replace('Makes_','')+'" data-key="'+key+'">'+value.Id.replace('Makes_','')+'</option>')
            })
       },'json')
    }
$(document).on('change','#formmake' , function(){
        var htmlModels;
        var model_variant;
        console.log(makesArray[$(this).find(':selected').data('key')])
        htmlModels = makesArray[$(this).find(':selected').data('key')].Models;
        htmlTrims = makesArray[$(this).find(':selected').data('key')].Trims;
       $('#formmodel').html('')
       $.each(htmlModels,function(key , value){
           $('#formmodel').append('<option value="'+value.Id.replace('Models_','')+'" data-key="'+key+'">'+value.Id.replace('Models_','')+'</option>')
       })
       var res = makesArray[$('#formmake').find(':selected').data('key')].Trims;
       $('#model_variant').html('')
       $.each(htmlTrims,function(key , value){
           $('#model_variant').append('<option value="'+value.Id.replace('Trims_','')+'" data-key="'+key+'">'+value.Id.replace('Trims_','')+'</option>')
       })

    })
     show_make();
</script>

   
